# AWS 账号注册完整指南

## 📋 准备材料

- [ ] 有效的邮箱地址
- [ ] 手机号码（用于接收验证码）
- [ ] 国际信用卡（Visa/MasterCard）
- [ ] 身份证明（备用）

## 💰 费用说明

### 新用户福利
- ✅ 12 个月免费套餐（部分服务）
- ✅ 免费配额（EC2, S3, Lambda 等）

### 本项目费用
- ❌ **App Runner 不在免费套餐内**
- 💵 预计费用：$2-4/天（运行时）
- 💡 不使用时可以销毁服务
- 💡 使用 Terraform 可以轻松销毁和重建

### 信用卡验证
- 注册时会扣 $1（之后退回）
- 用于验证信用卡有效性

---

## 🔐 注册步骤

### 第 1 步：访问 AWS 注册页面

**访问**：https://aws.amazon.com/

点击右上角 **"创建 AWS 账户"** 或 **"Create an AWS Account"**

### 第 2 步：填写账户信息

1. **电子邮件地址**：输入你的邮箱
2. **AWS 账户名称**：输入账户名（例如：`my-rag-project`）
3. 点击 **"验证电子邮件地址"**
4. 查收邮箱，输入验证码

### 第 3 步：创建密码

1. 输入密码（至少 8 个字符）
2. 确认密码
3. 点击 **"继续"**

### 第 4 步：填写联系信息

选择账户类型：
- **个人** - 适合学习和个人项目
- **商业** - 适合公司使用

填写信息：
1. 全名（拼音或英文）
2. 电话号码（格式：+86 138xxxxxxxx）
3. 国家/地区：中国
4. 地址（可以用拼音）
5. 城市
6. 省份
7. 邮政编码

点击 **"创建账户并继续"**

### 第 5 步：添加支付信息

1. 选择 **"信用卡或借记卡"**
2. 填写信用卡信息：
   - 卡号
   - 到期日期
   - 持卡人姓名
   - CVV（安全码）
3. 账单地址（通常自动填写）
4. 点击 **"验证并继续"**

⚠️ **注意**：会临时扣 $1 用于验证（几天后会退回）

### 第 6 步：手机验证

1. 选择验证方式：
   - 短信（推荐）
   - 语音通话
2. 输入手机号：+86 138xxxxxxxx
3. 点击 **"发送短信"**
4. 输入收到的验证码
5. 点击 **"验证代码"**

### 第 7 步：选择支持计划

选择 **"基本支持 - 免费"**

点击 **"完成注册"**

---

## ✅ 注册完成后

### 1. 验证邮箱

检查邮箱，确认收到 AWS 的欢迎邮件。

### 2. 升级到付费账户

⚠️ **重要**：App Runner 不在免费套餐内，需要升级到付费账户。

**升级步骤**：

1. 登录 [AWS 管理控制台](https://console.aws.amazon.com/)
2. 访问 [升级页面](https://console.aws.amazon.com/billing/home?#/freetier/upgrade)
3. 查看付费计划功能
4. 点击 **"Upgrade account"**（升级账户）
5. 确认升级

### 3. 创建 IAM 用户（用于 Terraform）

出于安全考虑，不建议直接使用 Root 账户，而是创建 IAM 用户：

**步骤**：

1. 登录 AWS 控制台
2. 搜索并进入 **"IAM"** 服务
3. 左侧菜单点击 **"用户"** (Users)
4. 点击 **"创建用户"** (Create user)
5. 用户名：`terraform-admin`
6. 勾选 **"提供对 AWS 管理控制台的用户访问权限"**（可选）
7. 点击 **"下一步"**

**设置权限**：

1. 选择 **"直接附加策略"**
2. 搜索并勾选 **"AdministratorAccess"**
   - ⚠️ 注意：这是管理员权限，仅用于学习
   - 生产环境应使用更细粒度的权限
3. 点击 **"下一步"**
4. 点击 **"创建用户"**

### 4. 创建访问密钥 (Access Key)

创建用户后：

1. 点击刚创建的用户 `terraform-admin`
2. 切换到 **"安全凭证"** (Security credentials) 标签
3. 向下滚动到 **"访问密钥"** (Access keys) 部分
4. 点击 **"创建访问密钥"** (Create access key)
5. 选择用例：**"命令行界面 (CLI)"**
6. 勾选 **"我了解上述建议..."**
7. 点击 **"下一步"**
8. 描述标签（可选）：`Terraform deployment`
9. 点击 **"创建访问密钥"**

**⚠️ 非常重要**：

- **Access Key ID**：显示在页面上（例如：AKIA...）
- **Secret Access Key**：只显示一次！立即复制保存
- 点击 **"下载 .csv 文件"** 保存（推荐）
- 妥善保管这两个密钥，不要分享给任何人

---

## 🎯 注册完成检查清单

- [ ] AWS 账号注册成功
- [ ] 收到 AWS 欢迎邮件
- [ ] 账户已升级到付费计划
- [ ] 创建了 IAM 用户 `terraform-admin`
- [ ] 创建了访问密钥并保存
- [ ] 有 Access Key ID
- [ ] 有 Secret Access Key

---

## 🔐 安全建议

1. **不要分享 Root 账户密码**
2. **不要分享访问密钥**
3. **启用 MFA（多因素认证）**（可选但推荐）
4. **定期轮换访问密钥**
5. **不用时删除 App Runner 服务**以避免持续扣费

---

## 💡 费用控制建议

### 设置预算警报

1. 进入 **"Billing Dashboard"**（账单仪表板）
2. 点击 **"Budgets"**（预算）
3. 点击 **"Create budget"**（创建预算）
4. 设置月度预算（例如：$20）
5. 设置警报阈值（例如：80%、90%、100%）
6. 输入邮箱接收通知

### 及时清理资源

使用 Terraform 可以轻松销毁资源：

```bash
# 销毁所有资源
terraform destroy
```

---

## 📞 遇到问题？

### 信用卡验证失败
- 确保是国际信用卡（Visa/MasterCard）
- 确保卡内有足够余额
- 尝试更换其他信用卡

### 手机验证失败
- 确保手机号格式正确：+86 138xxxxxxxx
- 尝试使用语音通话
- 稍后重试

### 无法升级到付费账户
- 确保已完成邮箱验证
- 确保信用卡验证通过
- 联系 AWS 支持

---

## ⏭️ 下一步

注册完成后：
1. 配置 AWS CLI：`aws configure`
2. 输入 Access Key ID 和 Secret Access Key
3. 继续云端部署流程

---

**预计注册时间：15-30 分钟**

